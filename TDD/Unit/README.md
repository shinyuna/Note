# Unit Test(ë‹¨ìœ„ í…ŒìŠ¤íŠ¸)

    - ë…ë¦½ì ì¸ í•¨ìˆ˜ ëª¨ë“ˆ í´ë˜ìŠ¤ë¥¼ í…ŒìŠ¤íŠ¸ (ìë™ì°¨ë¡œ ë¹„ìœ ë¥¼ í•˜ìë©´, ë°”í€´ì— ëŒ€í•œ í…ŒìŠ¤íŠ¸)

## í…ŒìŠ¤íŠ¸ ì‘ì„± íŒ¨í„´

- given [ì¤€ë¹„]

  - í…ŒìŠ¤íŠ¸ì— ì‚¬ìš©ë˜ëŠ” ë³€ìˆ˜, ì…ë ¥ ê°’, Mock ê°ì²´ ì •ì˜

- when [ì‹¤í–‰]

  - ì‹¤ì œë¡œ ì•¡ì…˜í•˜ëŠ” í…ŒìŠ¤íŠ¸ ì‹¤í–‰

- then [ê²€ì¦]

  - í…ŒìŠ¤íŠ¸ë¥¼ ê²€ì¦í•˜ëŠ” ê³¼ì •, ì˜ˆìƒí•œ ê°’, ì‹¤ì œ ì‹¤í–‰ì„ í†µí•´ ë¦¬í„´ëœ ê°’ì„ ê²€ì¦

#### Test Runner

- í…ŒìŠ¤íŠ¸ ì‹¤í–‰ í›„ ê²°ê³¼ ìƒì„±
- **Mocah** ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©ë¨

#### Assertion

- í…ŒìŠ¤íŠ¸ì— ëŒ€í•œ ì¡°ê±´, ë¹„êµë¥¼ í†µí•œ ë¡œì§
- **Chai** ë¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ëŒ€í‘œì ìœ¼ë¡œ ì‚¬ìš©ë¨

## ğŸƒŸ Jest

- Test Runner, Assertion ëª¨ë‘ ìˆ˜í–‰í•˜ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ í…ŒìŠ¤íŒ… ë¼ì´ë¸ŒëŸ¬ë¦¬
- [Jest ê³µì‹ ë¬¸ì„œ](https://jestjs.io/)

### Jest ì¥ì 

- **zero config**, ë³„ ë‹¤ë¥¸ ì„¤ì • ì—†ì´ ì‚¬ìš© ê°€ëŠ¥!
- **snapshots**, ë¸Œë¼ìš°ì € UI í™˜ê²½ì—ì„œ í…ŒìŠ¤íŠ¸ í•  ë•Œ ì‚¬ìš©, í° ì˜¤ë¸Œì íŠ¸ í˜„ì¬ì˜ ìƒíƒœ ì°°ì¹µ
- **isolated**, í…ŒìŠ¤íŠ¸ê°€ ê°ê°ì˜ í”„ë¡œì„¸ìŠ¤ì—ì„œ ì§„í–‰ë˜ê¸° ë•Œë¬¸ì— ì„±ëŠ¥, ì†ë„ê°€ ì¢‹ë‹¤.
- **great api**, ì‚¬ìš©í•˜ê¸° ì‰¬ìš´ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ë‚´ì¥ë˜ì–´ ìˆë‹¤.

### Jest í™˜ê²½ ì„¤ì •

```shell

"test": "jest --(watch|watchAll)"

```

- **watchAll** : ì½”ë“œê°€ ë³€ê²½ ë  ë•Œ ë§ˆë‹¤, ëª¨ë“  í…ŒìŠ¤íŠ¸ë¥¼ ì¬ì‹¤í–‰í•œë‹¤.
- **watch** : ì´ë¯¸ gitì— ì»¤ë°‹ëœ íŒŒì¼ X, ìˆ˜ì • ì¤‘ì¸ íŒŒì¼ë§Œ í…ŒìŠ¤íŠ¸ë¥¼ ì¬ì‹¤í–‰í•œë‹¤.

[cli options](https://jestjs.io/docs/cli)

### Jest Matchers

- **toBe** : ë‘ ê°’ì´ ë™ì¼í•œì§€ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤.
- **toEqual** : ê°ì²´ ë˜ëŠ” ë°°ì—´ì˜ ëª¨ë“  í•„ë“œë¥¼ ì¬ê·€ì ìœ¼ë¡œ í™•ì¸í•˜ê¸° ë•Œë¬¸ì— ê°ì²´ì˜ ê°’ì´ ë™ì¼í•œì§€ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•œë‹¤.

### ë¹„ë™ê¸° í•¨ìˆ˜ í…ŒìŠ¤íŠ¸

1.  it ë©”ì†Œë“œì— ì½œë°± í•¨ìˆ˜ë¥¼ ì „ë‹¬í•  ë•Œ, done ì¸ìë¥¼ ì „ë‹¬í•˜ì—¬ ìˆ˜ë™ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ê°€ ëë‚¬ë‹¤ëŠ” ê²ƒì„ ëª…ì‹œí•˜ëŠ” ë°©ì‹ (ë¹„ì¶” ğŸ‘)

- done() ì´ í˜¸ì¶œë˜ê¸° ì „ê¹Œì§€ í…ŒìŠ¤íŠ¸ê°€ ëë‚˜ì§€ ì•ŠëŠ”ë‹¤. return, await ë°©ì‹ë³´ë‹¤ ëŠë¦¬ë‹¤.

2.  it ë©”ì†Œë“œì˜ ì½œë°± í•¨ìˆ˜ì— ë©”ì†Œë“œ ìì²´ë¥¼ return í•´ì£¼ëŠ” ë°©ì‹

3.  it ë©”ì†Œë“œì˜ ì½œë°± í•¨ìˆ˜ì— async í‚¤ì›Œë“œë¥¼ ë¶™ì´ê³  ë¹„ë™ê¸° ì½”ë“œ ì•ì— await í‚¤ì›Œë“œë¥¼ ë¶™ì—¬ì£¼ëŠ” ë°©ì‹

[jest - asynchronous](https://jestjs.io/docs/asynchronous)

### Mock

- ê°€ì§œë¥¼ ì§„ì§œì¸ ë“¯í•˜ê²Œ í‰ë‚´ë‚´ì„œ ê¸°ëŠ¥ì´ ì˜ ë™ì‘í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ”ë° ì‚¬ìš©ëœ ê°ì²´ì´ë‹¤.
- ëª¨ë“ˆ ê°„ì— ì˜ì¡´ì„±ì´ ìˆëŠ” ë¶€ë¶„ì„ ëŒ€ì‹ í•˜ì—¬(=Mock) ëª¨ë“ˆ ê°„ì˜ ì˜ì¡´ì„±ì„ ë¶„ë¦¬í•œë‹¤.

> Mock ë‚¨ìš© ğŸ™…â€â™€ï¸
>
> - ì½”ë“œì˜ ì•„í‚¤í…ì³ë¥¼ ê°œì„ í•˜ì§€ ì•Šê³  Mockì„ ì‚¬ìš©í•´ ì½”ë“œ ê°œì„ ì„ í”¼í•˜ë ¤ê³  í•˜ë©´ ì•ˆëœë‹¤!

### Stub

- ê°€ì§œë¥¼ ì§„ì§œì¸ ë“¯í•˜ê²Œ í‰ë‚´ ë‚´ëŠ” ì ì€ Mockê³¼ ë¹„ìŠ·í•˜ë‹¤. Stubì€ ì‹¤ì œì™€ ë™ì¼í•˜ê²Œ ë™ì‘í•˜ëŠ” ê°€ì§œ ê°ì²´ë¥¼ ë§Œë“¤ì–´ì„œ ì‹¤ì œë¡œ ë™ì‘í•˜ëŠ” ê²ƒ ì²˜ëŸ¼ ë³´ì´ê²Œ ë§Œë“ ë‹¤.
- í…ŒìŠ¤íŠ¸ì—ì„œ í˜¸ì¶œëœ ìš”ì²­ì— ëŒ€í•´ ë¯¸ë¦¬ ì •í•´ë‘” ê°’ì„ ë¦¬í„´í•œë‹¤.

> Mock í•œ ê°’ì„ ê³„ì† ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´, Mock í•„ìš” ì—†ë‹¤ë©´ Stub

[What's the different mock & stub](https://martinfowler.com/articles/mocksArentStubs.html)
