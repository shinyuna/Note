
## í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì™€ í•¨ìˆ˜í˜• ì»´í¬ë„ŒíŠ¸

ë¦¬ì•¡íŠ¸ 16.8 ë²„ì „ ì´ì „ì—ëŠ” ë‹¨ìˆœíˆ ë¬´ìƒíƒœ ì»´í¬ë„ŒíŠ¸ë¥¼ êµ¬í˜„í•˜ê¸° ìœ„í•œ í•˜ë‚˜ì˜ ìˆ˜ë‹¨ì´ì—ˆë‹¤.
í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì™€ ë¹„êµí•œ ë‚´ìš©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

- this í‚¤ì›Œë“œë¥¼ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ëœë‹¤.
- state ë¥¼ ê°ì²´ê°€ ì•„ë‹Œ ê°ê°ì˜ ì›ì‹œ ê°’ ë˜ëŠ” ê°ì²´ë¡œ ê´€ë¦¬ ê°€ëŠ¥í•˜ë‹¤.
- ìƒëª…ì£¼ê¸° ë©”ì„œë“œê°€ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤. `useEffect` ë¥¼ ì‚¬ìš©í•˜ì—¬ ë¹„ìŠ·í•˜ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.
- í•¨ìˆ˜ ì»´í¬ë„ŒíŠ¸ëŠ” ë Œë”ë§ ëœ ì‹œì ì˜ props ê°’ì´ ìœ ì§€ë˜ì§€ë§Œ, í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ëŠ” this ì— ë°”ì¸ë”©ëœ props ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì‹œê°„ì˜ íë¦„ì— ë”°ë¼ ë³€ê²½ë˜ëŠ” this ë¥¼ ê¸°ì¤€ìœ¼ë¡œ props ê°€ ë³€ê²½ëœë‹¤.

> :: ğŸŒ±<br/>
> í´ë˜ìŠ¤ ì»´í¬ë„ŒíŠ¸ì— ëŒ€í•œ ê²ƒì€ ê³µì‹ë¬¸ì„œì—ì„œ í™•ì¸í•˜ê¸° <br/>
> [React: Component](https://react.dev/reference/react/Component#)

## ë¦¬ì•¡íŠ¸ ë Œë”ë§

ë¦¬ì•¡íŠ¸ ì• í”Œë¦¬ì¼€ì´ì…˜ íŠ¸ë¦¬ ì•ˆì— ìˆëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ ê°ê°ì˜ props, state ê°’ì„ ê¸°ë°˜ìœ¼ë¡œ ì–´ë–»ê²Œ UI ë¥¼ êµ¬ì„±í•˜ê³  ì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ **ì–´ë–¤ DOM ê²°ê³¼ë¥¼ ë¸Œë¼ìš°ì €ì— ì œê³µí•  ê²ƒì¸ì§€ ê³„ì‚°í•˜ëŠ” ì¼ë ¨ì˜ ê³¼ì •**ì„ ì˜ë¯¸í•œë‹¤.

ë¦¬ì•¡íŠ¸ì—ì„œ ë Œë”ë§ ê³¼ì •ì´ ì¼ì–´ë‚˜ëŠ” ìƒí™©ì€ ë‹¤ìŒê³¼ ê°™ë‹¤.

1. ì• í”Œë¦¬ì¼€ì´ì…˜ ìµœì´ˆ ë Œë”ë§
2. ìµœì´ˆ ë Œë”ë§ ì´í›„ ë°œìƒí•˜ëŠ” ëª¨ë“  ë Œë”ë§ = ë¦¬ë Œë”ë§
  - `useState()` ì˜ setter ê°€ ì‹¤í–‰ë˜ì–´, state ê°€ ì—…ë°ì´íŠ¸ ëœ ê²½ìš°
  - `useReducer()` ì˜ dispatch í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ì–´, state ê°€ ì—…ë°ì´íŠ¸ ëœ ê²½ìš°
  - ì»´í¬ë„ŒíŠ¸ì˜ `key` ê°’ì´ ë³€ê²½ë˜ëŠ” ê²½ìš°
  - props ê°€ ë³€ê²½ë˜ëŠ” ê²½ìš°
  - ë¶€ëª¨ ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë˜ëŠ” ê²½ìš°

> :: ğŸŒ± <br/>
> ë°°ì—´ ë Œë”ë§ ì‹œ key ê°’ìœ¼ë¡œ index ì‚¬ìš©ì„ ì§€ì–‘í•´ì•¼ í•˜ëŠ” ì´ìœ ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?
>
> ë¦¬ì•¡íŠ¸ê°€ íŒŒì´ë²„ íŠ¸ë¦¬ êµ¬ì¡°ë¥¼ í†µí•´ ë Œë”ë§ì„ ì§„í–‰í•  ë•Œ, current íŠ¸ë¦¬ì™€ workInProgress íŠ¸ë¦¬ ì‚¬ì´ì—ì„œ ì–´ë–¤ ì»´í¬ë„ŒíŠ¸ì— ë³€ê²½ì‚¬í•­ì´ ì¡´ì¬í•˜ëŠ”ì§€ íŒë‹¨í•˜ëŠ” ì‹ë³„ìë¡œ key ê°’ì„ ì‚¬ìš©í•œë‹¤. ë§Œì•½, key ê°’ìœ¼ë¡œ index ë¥¼ ì‚¬ìš©í•˜ê²Œ ë˜ë©´, ë°°ì—´ì˜ ìˆœì„œê°€ ë³€ê²½ë¨ì— ë”°ë¼ index ê°’ì´ ë³€ê²½ë˜ì–´ ì˜ë„ì™€ ë‹¤ë¥´ê²Œ ë Œë”ë§ì´ ë˜ëŠ” ê²½ìš°ê°€ ë°œìƒí•  ìˆ˜ ìˆë‹¤.
>
> ê·¸ë ‡ê¸° ë•Œë¬¸ì—, key ê°’ì€ ë³€í•˜ì§€ ì•Šê³  ê° ì»´í¬ë„ŒíŠ¸ì˜ ê³ ìœ í•œ ì‹ë³„ìë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì¢‹ë‹¤.

### ë¦¬ì•¡íŠ¸ ë Œë”ë§ í”„ë¡œì„¸ìŠ¤

ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ í”„ë¡œì„¸ìŠ¤ëŠ” ì´ ë‘ ë‹¨ê³„ë¡œ ë¶„ë¦¬ë˜ì–´ ì‹¤í–‰ëœë‹¤.

1. ë Œë” ë‹¨ê³„(Render Phase)
  - ì»´í¬ë„ŒíŠ¸ë¥¼ ë Œë”ë§í•˜ê³  ë³€ê²½ì‚¬í•­ì„ ê³„ì‚°í•˜ëŠ” ëª¨ë“  ì‘ì—…
  - type, props, key ì„¸ ê°€ì§€ ì¤‘ í•˜ë‚˜ë¼ë„ ë³€ê²½ë˜ë©´ ë³€ê²½ í•„ìš”í•œ ì»´í¬ë„ŒíŠ¸ë¡œ ì²´í¬
2. ì»¤ë°‹ ë‹¨ê³„(Commit Phase)
  - ë Œë” ë‹¨ê³„ì˜ ë³€ê²½ ì‚¬í•­ì„ ì‹¤ì œ DOM ì— ë°˜ì˜í•˜ëŠ” ì‘ì—…
  - ì´ ë‹¨ê³„ê°€ ëë‚˜ì•¼ ì‹¤ì œ ë¸Œë¼ìš°ì € ë Œë”ë§ì´ ë°œìƒí•œë‹¤.

ì—¬ê¸°ì„œ ì•Œ ìˆ˜ ìˆëŠ” ì¤‘ìš” í¬ì¸íŠ¸ëŠ”, **ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ì´ ì¼ì–´ë‚œë‹¤ê³  ë¬´ì¡°ê±´ ë¸Œë¼ìš°ì € DOM ë Œë”ë§ì´ ì¼ì–´ë‚˜ì§„ ì•ŠëŠ”ë‹¤ëŠ” ê²ƒì´ë‹¤.** ë³€ê²½ ì‚¬í•­ ê³„ì‚° ì´í›„, ë³€ê²½ ì‚¬í•­ì„ ê°ì§€í•˜ì§€ ì•Šì•˜ë‹¤ë©´ ì»¤ë°‹ ë‹¨ê³„ëŠ” ìƒëµë  ìˆ˜ ìˆë‹¤.

ì´ ë‘ ê°€ì§€ ê³¼ì •ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë¦¬ì•¡íŠ¸ì˜ ë Œë”ë§ì´ ê³¼ê±°ì—ëŠ” í•­ìƒ ë™ê¸°ì ìœ¼ë¡œ ì´ë£¨ì–´ì¡Œì§€ë§Œ, **ë¦¬ì•¡íŠ¸ 18ì—ì„œ ë™ì‹œì„± ë Œë”ë§ì´ ë˜ì–´ ë Œë” ë‹¨ê³„ê°€ ë¹„ë™ê¸°ë¡œ ì‘ë™**í•˜ë©´ì„œ **ë Œë”ë§ì˜ ìš°ì„ ìˆœìœ„ ë‚®ì¶”ê±°ë‚˜, ì¤‘ë‹¨ ë˜ëŠ” ì¬ê°œí•  ìˆ˜ ìˆê²Œ ë˜ì—ˆë‹¤.**

> :: ğŸŒ± ë™ì‹œì„±ì— ëŒ€í•œ ë” ìì„¸í•œ ë‚´ìš©ì€
> - [explain concurrency](https://github.com/reactwg/react-18/discussions/46#discussioncomment-846786)
> - [Inside React(ë™ì‹œì„±ì„ êµ¬í˜„í•˜ëŠ” ê¸°ìˆ )](https://tv.naver.com/v/23652451)
> - [React 18 í†ºì•„ë³´ê¸° - 04. Concurrent Render](https://goidle.github.io/react/in-depth-react18-concurrent_render/)
> - https://dev.to/jahid6597/why-useeffect-is-running-twice-in-react-18c6
